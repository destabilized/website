<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sophomore week 9</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/cpp.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link rel="stylesheet" href="../blog-posts.css">
</head>
<body>

<main>
    <div class="container">
        <div class="yap">
            <h1>soph week 3/17 - 3/21</h1>
            <p>i’ve finished all the electrical work for the sumobot. now, i just need to mill the pcb and get a body for it.</p>
            
            <h2>schematic of the board</h2>

            <img src="../../../static/img/soph/9/schem.png">

            <p>above is the schematic of my board. i ran into a few issues while creating it, mostly because the components defaulted to smd instead of through-hole. other than that, designing the pcb was relatively straightforward.</p>
            <p>another challenge was finding the footprint for the md17a or the drv8833 motor driver we’re using. i spent a lot of time searching for the correct footprint since i didn’t want to create one from scratch.</p>

            <h2> pcb</h2>

            <img src="../../../static/img/soph/9/2d.png">

            <p>the component placement isn’t ideal, which forced me to rewire parts of the schematic and pcb to make the traces work. because of this, i also had to adjust some pins in my code to account for the changes. i’ll mill the pcb once i have a body to test it with.</p>

            <img src="../../../static/img/soph/9/3d.png">
            <h6>rough image of what my final pcb will look like</h6>

            <h2> code edits</h2>
            <pre><code class="cpp">
else if (digitalRead(SEN_R) == HIGH) {
        right();
        Serial.println("turn right");
        delay(200);
} else if (digitalRead(SEN_L) == HIGH) {
    left();
    Serial.println("turn left");
    delay(200);
}
            </code></pre>

            <p>besides fixing the pin assignments in my code, i also resolved an issue from last week. previously, the individual sensors wouldn’t work on their own and only functioned when both were activated. my friend miles pointed out that i only needed to read the state of one sensor instead of both.</p>
            <p>this fix allowed each sensor to work independently, and now all the fail-safes function correctly—whether one or both sensors are triggered.</p>

            <pre><code class="cpp">
void backwards() {
    digitalWrite(MOTOR_A1, LOW); digitalWrite(MOTOR_B1, LOW); digitalWrite(MOTOR_A2, HIGH); digitalWrite(MOTOR_B2, HIGH);
}
            </code></pre>
            <p>last week, i mentioned needing to implement a backward function for the sumobot. i realized that with the current star pattern implementation, the robot would move forward instead of backward. i quickly added a backward function and replaced the forward call with it.</p>
            <p>next steps: my friend jonas is working on the body and tires, which i’ll use to test my code and sensors. this will help me identify any errors or adjustments needed before the final assembly.</p>

            <div class="navigation">
                <a href="../../blog.html" class="buttons">← back to all blogs </a>
                <a href="week_8.html" class="buttons"> last week post →</a>
            </div>
        </div>
    </div>
</main>


</body>
</html>
